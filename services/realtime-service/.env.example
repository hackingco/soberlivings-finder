# Realtime Service Configuration

# Service Configuration
NODE_ENV=development
REALTIME_PORT=3003
SERVICE_NAME=soberlivings-realtime-service
SERVICE_VERSION=1.0.0

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=soberlivings
DB_USER=postgres
DB_PASSWORD=your-db-password
DB_SSL=false
DB_MAX_CONNECTIONS=20
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=2000

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000

# JWT Configuration
JWT_SECRET=your-super-secure-jwt-secret-key-here
JWT_EXPIRES_IN=24h

# WebSocket Configuration
WEBSOCKET_CORS_ORIGINS=http://localhost:3000,https://yourdomain.com
WEBSOCKET_PING_TIMEOUT=60000
WEBSOCKET_PING_INTERVAL=25000

# Rate Limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_AUTH_WINDOW=300000

# Monitoring & Availability
AVAILABILITY_CHECK_INTERVAL=30000
HEALTH_CHECK_INTERVAL=60000

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_MAX_SIZE=10m
LOG_FILE_MAX_FILES=5

# Performance Configuration
CLUSTER_WORKERS=0
MEMORY_LIMIT=512
CPU_LIMIT=1

# Frontend URLs (for CORS)
FRONTEND_URLS=http://localhost:3000,https://yourdomain.com,https://www.yourdomain.com

# External Service URLs
GEOSPATIAL_SERVICE_URL=http://localhost:3001
SEARCH_SERVICE_URL=http://localhost:3002
NOTIFICATION_SERVICE_URL=http://localhost:3004

# Security Configuration
HELMET_CSP_DIRECTIVES=default-src 'self'
TRUST_PROXY=false
SECURE_COOKIES=false

# Development/Debug Settings
DEBUG=realtime:*
VERBOSE_LOGGING=false
ENABLE_METRICS=true
ENABLE_HEALTH_CHECKS=true

# Stream Processing Configuration
STREAM_CONSUMER_GROUP=realtime-consumers
STREAM_CONSUMER_TIMEOUT=5000
STREAM_BATCH_SIZE=10
STREAM_MAX_RETRIES=3
STREAM_DEAD_LETTER_TTL=86400

# Connection Limits
MAX_CONNECTIONS_PER_IP=10
MAX_ROOMS_PER_USER=50
MAX_SUBSCRIPTIONS_PER_USER=100
CONNECTION_TIMEOUT=300000

# Features Flags
ENABLE_AUTH=true
ENABLE_RATE_LIMITING=true
ENABLE_ANALYTICS=true
ENABLE_CLUSTERING=false
ENABLE_MONITORING=true

# Caching Configuration
CACHE_TTL=3600
CACHE_MAX_ENTRIES=10000
ENABLE_MEMORY_CACHE=true

# Performance Monitoring
METRICS_COLLECTION_INTERVAL=60000
PERFORMANCE_TRACKING=true
TRACK_USER_ACTIVITY=true